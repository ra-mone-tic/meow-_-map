<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeowAfisha ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</title>
    <link rel="stylesheet" href="enhanced_styles.css">
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet">
    <meta name="description" content="–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥–∞ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò">
    <meta name="keywords" content="–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥, –∫–∞—Ä—Ç–∞, —Å–æ–±—ã—Ç–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –ò–ò">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iI0ZGNjYwMCIvPgo8cGF0aCBkPSJNMTIgMTJIMjhWMTZIMTJWMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMjBIMjRWMjRIMTJWMjBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMjhIMjhWMzJIMTJWMjhaIiBmaWxsPSJ3aGl0ZSIvPgo8Y2lyY2xlIGN4PSIzMiIgY3k9IjgiIHI9IjQiIGZpbGw9IiM0Q0FGNTASCZ8L3N2Zz4K" alt="MeowAfisha">
                <h1>MEOW!</h1>
            </div>
            <div class="header-controls">
                <div class="date-filter">
                    <label for="date-filter">üìÖ</label>
                    <input type="date" id="date-filter" title="–§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ">
                </div>
                <button class="sidebar-toggle" onclick="uiManager.toggleSidebar()" title="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å">‚ò∞</button>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar">
            <button class="close-btn" onclick="uiManager.toggleSidebar()" title="–ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å">‚úï</button>
            
            <!-- AI Recommendations Section -->
            <section id="recommendations" class="recommendations">
                <h3>ü§ñ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                <p class="no-recommendations">–ü–æ—Å—Ç–∞–≤—å—Ç–µ –ª–∞–π–∫–∏ —Å–æ–±—ã—Ç–∏—è–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏!</p>
            </section>

            <!-- Popular Events Section -->
            <section id="popular-events" class="popular-events">
                <h3>üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è</h3>
                <div class="popular-list">
                    <!-- Popular events will be rendered here -->
                </div>
            </section>

            <!-- Events List Section -->
            <section class="events-section">
                <h2>üìÖ –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                <div id="events-list" class="events-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π...</div>
                </div>
            </section>
        </aside>

        <!-- Map -->
        <main class="map-container">
            <div id="map"></div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="enhanced_script.js"></script>
    
    <!-- Analytics and Performance -->
    <script>
        // Simple performance monitoring
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            console.log(`Page loaded in ${loadTime.toFixed(2)}ms`);
            
            // Track user interactions for analytics
            document.addEventListener('click', (e) => {
                if (e.target.matches('.btn-like, .btn-dislike')) {
                    console.log('User interaction:', e.target.className, e.target.closest('.event-item')?.dataset.eventTitle);
                }
            });
        });

        // Service Worker registration for PWA capabilities (future enhancement)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // navigator.serviceWorker.register('/sw.js')
                //     .then(registration => console.log('SW registered'))
                //     .catch(error => console.log('SW registration failed'));
            });
        }

        // Error handling
        window.addEventListener('error', (e) => {
            console.error('Global error:', e.error);
            // In production, send to error tracking service
        });

        window.addEventListener('unhandledrejection', (e) => {
            console.error('Unhandled promise rejection:', e.reason);
            // In production, send to error tracking service
        });
    </script>
</body>
</html>

